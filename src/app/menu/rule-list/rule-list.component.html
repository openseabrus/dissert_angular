<div id="main">
  <div class="header">
    <h1>Adaptation Rules</h1>
  </div>

  <div *ngIf="rules" class="content">
    <div class="pure-g">
      <div class="pure-u-sm-23-24 pure-u-xl-7-24 pure-u-23-24 rule" *ngFor="let rule of rules; let i = index" @delete>
        <div>
          <h3 class="trigger-action">Trigger</h3>
          <div class="rule-content">
            <p><span class="property">Entity:</span> {{rule.trigger.entity}}</p>
            <p><span class="property">Attribute:</span> {{rule.trigger.attribute.name}}</p>
            <p><span class="property">Value:</span> {{rule.trigger.attribute.fields[0].value}}</p>
          </div>

          <h3 class="trigger-action" style="margin-top: 50px;">Action</h3>
          <div class="rule-content">
            <p><span class="property">Entity:</span> {{rule.action.entity ? rule.action.entity : rule.trigger.attribute.fields[0].value + ' (Marker)'}}</p>
            <p><span class="property">Attribute:</span> {{rule.action.attribute.name}}</p>
            <p><span class="property">New Value:</span> {{rule.action.attribute.fields[0].value}} {{rule.action.attribute.unit ?
              rule.action.attribute.unit : ""}}</p>
            <p><span class="property">Created:</span> {{rule.createDate | date: 'd MMM yyyy, HH:mm'}}</p>
          </div>
        </div>
        <button (click)="deleteRule(i)" class="pure-button pure-button-primary button-error center"><i class="fas fa-trash-alt"
            style="padding-right: 10px;"></i> Delete Rule</button>
        <!-- <app-card
          [rule]="rule"></app-card> -->
      </div>
    </div>
  </div>
</div>
